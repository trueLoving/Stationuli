# Stationuli â€”â€” ä¸ªäººå·¥ä½œç«™P2Pæ–‡ä»¶ä¼ è¾“ä¸æ§åˆ¶è§£å†³æ–¹æ¡ˆ

ğŸ”— **ä¸ªäººå·¥ä½œç«™åº”ç”¨** - å®Œå…¨ç¦»çº¿ã€å®Œå…¨ç§æœ‰çš„P2Pæ–‡ä»¶ä¼ è¾“ä¸è®¾å¤‡æ§åˆ¶ï¼Œæ‰“é€šPCä¸Androidè®¾å¤‡å£å’

## ğŸ“– äº§å“åç§°

**Stationuli** ç”± **Station**ï¼ˆå·¥ä½œç«™ï¼‰å’Œ **uli** åç¼€ç»„æˆã€‚

- **Station**ï¼šå·¥ä½œç«™ï¼Œä»£è¡¨ä¸ªäººè®¾å¤‡çš„è¿æ¥ä¸­å¿ƒå’Œæ§åˆ¶æ¢çº½
- **uli**ï¼šäº§å“æ ‡è¯†åç¼€ï¼Œèµ‹äºˆåç§°ç‹¬ç‰¹æ€§å’Œç§‘æŠ€æ„Ÿ

**å«ä¹‰**ï¼šStationuli æ—¨åœ¨æˆä¸ºæ‚¨çš„ä¸ªäººå·¥ä½œç«™ä¸­å¿ƒï¼Œæ‰“é€šä¸åŒè®¾å¤‡é—´çš„å£å’ï¼Œå®ç°æ–‡ä»¶ä¼ è¾“ä¸è®¾å¤‡æ§åˆ¶çš„ç»Ÿä¸€ç®¡ç†ã€‚å°±åƒå·¥ä½œç«™æ˜¯æ‚¨çš„å·¥ä½œä¸­å¿ƒä¸€æ ·ï¼ŒStationuli æ˜¯æ‚¨ä¸ªäººè®¾å¤‡ç½‘ç»œçš„æ ¸å¿ƒæ¢çº½ã€‚

## ğŸ’­ é¡¹ç›®åˆè¡·

Stationuli çš„è¯ç”Ÿæºäºä¸‰ä¸ªæ ¸å¿ƒé©±åŠ¨åŠ›ï¼š

### 1. é¡¹ç›®ç»å†ç§¯ç´¯ ğŸ“š

åœ¨ä¹‹å‰çš„é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ¬äººæ·±å…¥æ¢ç´¢äº†ä¸åŒè®¾å¤‡åœ¨ç¦»çº¿ç¯å¢ƒä¸‹çš„æ–‡ä»¶ä¼ è¾“æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯ **Android åˆ° PC ç«¯çš„ä¼ è¾“åœºæ™¯**ã€‚è¿™æ®µç»å†è®©æœ¬äººæ·±åˆ»ç†è§£äº†ï¼š

- ç¦»çº¿ç¯å¢ƒä¸‹è®¾å¤‡å‘ç°çš„æŒ‘æˆ˜ï¼ˆmDNSã€è“ç‰™ç­‰ï¼‰
- è·¨å¹³å°æ–‡ä»¶ä¼ è¾“çš„æŠ€æœ¯éš¾ç‚¹
- P2Pç›´è¿çš„å¯é æ€§å’Œæ€§èƒ½ä¼˜åŒ–

è¿™äº›å®è·µç»éªŒä¸º Stationuli çš„æŠ€æœ¯æ¶æ„å¥ å®šäº†åšå®åŸºç¡€ã€‚

### 2. ä¸ªäººçœŸå®éœ€æ±‚ ğŸ 

ä½œä¸ºå¼€å‘è€…ï¼Œæœ¬äººè¿«åˆ‡éœ€è¦ä¸€å¥—è½¯ä»¶æ¥**æ­å»ºå®Œå…¨å±äºè‡ªå·±çš„ä¸ªäººå·¥ä½œç«™**ï¼š

- **è®¾å¤‡æ‰“é€š**ï¼šå°† PCã€Mobileã€iPadã€Watch ç­‰è®¾å¤‡ç›¸äº’è¿æ¥
- **å®Œå…¨ç§æœ‰**ï¼šæ‰€æœ‰ä¿¡æ¯ä¼ è¾“ä¸ç»è¿‡ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
- **ç¦»çº¿ä¼˜å…ˆ**ï¼šæ”¯æŒå®Œå…¨ç¦»çº¿ç¯å¢ƒä¸‹å·¥ä½œï¼Œä¿æŠ¤éšç§å’Œæ•°æ®å®‰å…¨
- **è‡ªä¸»æ§åˆ¶**ï¼šå®Œå…¨æŒæ§è‡ªå·±çš„æ•°æ®æµå‘å’Œè®¾å¤‡è¿æ¥

ç°æœ‰çš„è§£å†³æ–¹æ¡ˆè¦ä¹ˆä¾èµ–äº‘æœåŠ¡ï¼Œè¦ä¹ˆåŠŸèƒ½å•ä¸€ï¼Œæ— æ³•æ»¡è¶³æœ¬äººå¯¹**å®Œå…¨è‡ªä¸»ã€å®Œå…¨ç¦»çº¿**çš„ä¸ªäººå·¥ä½œç«™éœ€æ±‚ã€‚å› æ­¤ï¼Œæœ¬äººå†³å®šè‡ªå·±æ‰“é€  Stationuliã€‚

### 3. æŠ€æœ¯æ¢ç´¢ç²¾ç¥ ğŸ”¬

Stationuli ä¹Ÿæ˜¯æœ¬äºº**ç ”ç©¶ä¸åŒé¢†åŸŸæŠ€æœ¯ç”Ÿæ€**çš„å®è·µå¹³å°ï¼š

- **Rust ç”Ÿæ€**ï¼šæ¢ç´¢ Rust åœ¨ç³»ç»Ÿç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹ã€åŠ å¯†ç­‰é¢†åŸŸçš„åº”ç”¨
- **è·¨å¹³å°å¼€å‘**ï¼šç ”ç©¶ Tauriã€React Native ç­‰è·¨å¹³å°æ¡†æ¶çš„ä¼˜åŠ£
- **P2P ç½‘ç»œ**ï¼šæ·±å…¥ç†è§£ QUICã€mDNSã€NAT ç©¿é€ç­‰ç½‘ç»œæŠ€æœ¯
- **ç³»ç»Ÿé›†æˆ**ï¼šæ¢ç´¢ Windowsã€macOSã€Android ç­‰å¹³å°çš„ç³»ç»Ÿ API

é€šè¿‡ Stationuliï¼Œæœ¬äººä¸ä»…è§£å†³äº†å®é™…é—®é¢˜ï¼Œä¹Ÿåœ¨ä¸æ–­å­¦ä¹ å’Œæ¢ç´¢å‰æ²¿æŠ€æœ¯ã€‚

---

**Stationuli ä¸ä»…ä»…æ˜¯ä¸€ä¸ªäº§å“ï¼Œæ›´æ˜¯æœ¬äººå¯¹æŠ€æœ¯ç†æƒ³çš„å®è·µï¼Œå¯¹éšç§ä¿æŠ¤çš„åšæŒï¼Œå¯¹è‡ªä¸»æ§åˆ¶çš„è¿½æ±‚ã€‚**

## ğŸ¯ äº§å“ç›®æ ‡

Stationuli è‡´åŠ›äºå¸®åŠ©ç”¨æˆ·æ‰“é€ **å®Œå…¨è‡ªä¸»ã€å®Œå…¨ç¦»çº¿ã€å®Œå…¨ç§æœ‰**çš„ä¸ªäººå·¥ä½œç«™ç”Ÿæ€ï¼š

### æ ¸å¿ƒç›®æ ‡

1. **æ‰“é€šè®¾å¤‡å£å’** ğŸ”—
   - è¿æ¥PCå’ŒAndroidè®¾å¤‡ï¼Œæ„å»ºä¸ªäººè®¾å¤‡ç½‘ç»œ
   - å®ç°è®¾å¤‡é—´çš„æ— ç¼äº’é€šä¸åä½œ

2. **æ‰“é€ ä¸ªäººå·¥ä½œç«™** ğŸ 
   - ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œå®Œå…¨è‡ªä¸»æ§åˆ¶
   - æ‰€æœ‰æ•°æ®ä»…åœ¨æ‚¨çš„è®¾å¤‡é—´ä¼ è¾“ï¼Œç»ä¸ç»è¿‡æœåŠ¡å™¨

3. **å®Œå…¨ç¦»çº¿å·¥ä½œ** ğŸ“´
   - æ”¯æŒå±€åŸŸç½‘å†…å®Œå…¨ç¦»çº¿è¿è¡Œ
   - æ— éœ€äº’è”ç½‘è¿æ¥ï¼Œä¿æŠ¤éšç§å’Œæ•°æ®å®‰å…¨

4. **é›¶ä¿¡ä»»æ¶æ„** ğŸ”
   - ç«¯åˆ°ç«¯åŠ å¯†ï¼Œæ•°æ®ä¸ç»è¿‡ä»»ä½•ä¸­é—´æœåŠ¡å™¨
   - è®¾å¤‡é—´ç›´æ¥P2Pè¿æ¥ï¼Œæ‚¨å®Œå…¨æŒæ§æ•°æ®æµå‘

5. **ç®€å•é«˜æ•ˆ** âœ¨
   - **ä½¿ç”¨ç®€å•**ï¼šç”¨æˆ·åªéœ€è¦å°†è®¾å¤‡è¿æ¥åˆ°åŒä¸€ä¸ªå±€åŸŸç½‘æˆ–WiFiï¼Œç„¶åå®‰è£…å¯¹åº”è½¯ä»¶ï¼Œå¯åŠ¨è½¯ä»¶ï¼Œå³å¯å®Œæˆè®¾ç½®
   - **é›¶é…ç½®**ï¼šè‡ªåŠ¨å‘ç°å‘¨è¾¹è®¾å¤‡ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥IPåœ°å€æˆ–è®¾å¤‡ID
   - **ä¸€é”®è¿æ¥**ï¼šè®¾å¤‡å‘ç°åä¸€é”®è¿æ¥ï¼Œå¿«é€Ÿå¼€å§‹ä¼ è¾“å’Œæ§åˆ¶
   - **å¼€ç®±å³ç”¨**ï¼šå®‰è£…å³ç”¨ï¼Œæ— éœ€å¤æ‚é…ç½®ï¼Œé™ä½ä½¿ç”¨é—¨æ§›

## ğŸŒ äº§å“å®šä½

çº¯P2Pè·¨å¹³å°æ–‡ä»¶ä¼ è¾“ä¸æ§åˆ¶å·¥å…·ï¼Œæ”¯æŒï¼š

- ğŸ–¥ï¸ **PCç«¯**ï¼šWindows/macOSåŸç”Ÿåº”ç”¨ï¼ˆTauriï¼‰
- ğŸ“± **ç§»åŠ¨ç«¯**ï¼šAndroidåŸç”Ÿåº”ç”¨
- ğŸ”„ **å…¨å¹³å°äº’é€š**ï¼šPCä¸Androidé—´æ–‡ä»¶ä¼ è¾“ä¸è®¾å¤‡æ§åˆ¶
- ğŸ® **è®¾å¤‡æ§åˆ¶**ï¼šAndroidæ§åˆ¶PCï¼ˆéœ€ä¸¤ç«¯å®‰è£…åŸç”Ÿè½¯ä»¶ï¼‰
- âš ï¸ **å®‰è£…è¦æ±‚**ï¼šæ‰€æœ‰åŠŸèƒ½å‡éœ€å®‰è£…åŸç”Ÿè½¯ä»¶ï¼Œä¸æ”¯æŒWebç«¯
- ğŸ  **ä¸ªäººå·¥ä½œç«™**ï¼šæ‰“é€ å®Œå…¨è‡ªä¸»ã€å®Œå…¨ç¦»çº¿çš„ä¸ªäººè®¾å¤‡ç½‘ç»œ

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. æ–‡ä»¶ä¼ è¾“

#### æ”¯æŒçš„ä¼ è¾“ç»„åˆ

| å‘é€ç«¯             | æ¥æ”¶ç«¯             | æ”¯æŒçŠ¶æ€ | è¯´æ˜                                    |
| ------------------ | ------------------ | -------- | --------------------------------------- |
| PC â†” PC           | PC â†” PC           | âœ…       | æ”¯æŒWindows/macOSé—´äº’ä¼ ï¼Œéœ€ä¸¤ç«¯å®‰è£…è½¯ä»¶ |
| PC â†” Android      | PC â†” Android      | âœ…       | è·¨å¹³å°æ–‡ä»¶ä¼ è¾“ï¼Œéœ€ä¸¤ç«¯å®‰è£…è½¯ä»¶          |
| Android â†” Android | Android â†” Android | âœ…       | ç§»åŠ¨ç«¯é—´äº’ä¼ ï¼Œéœ€ä¸¤ç«¯å®‰è£…è½¯ä»¶            |

> âš ï¸ **é‡è¦æç¤º**ï¼šæ‰€æœ‰æ–‡ä»¶ä¼ è¾“åŠŸèƒ½å‡éœ€**ä¸¤ç«¯éƒ½å®‰è£…åŸç”Ÿè½¯ä»¶**æ‰èƒ½ä½¿ç”¨

#### ç‰¹è‰²åŠŸèƒ½

- **é›¶ç‚¹å‡»ä¼ è¾“**ï¼šå±€åŸŸç½‘è®¾å¤‡è‡ªåŠ¨å‘ç°ï¼ˆmDNSï¼‰
- **é‡å­åŠ å¯†ä¼ è¾“**ï¼šåŸºäºX25519çš„ç«¯åˆ°ç«¯åŠ å¯†
- **é—ªç”µä¼ è¾“**ï¼šå±€åŸŸç½‘å†…é€Ÿåº¦å¯è¾¾100MB/s
- **æ— ç•Œä¼ è¾“**ï¼šQUIC/TCPè¿œç¨‹ç©¿é€NAT
- **åŸç”Ÿæ€§èƒ½**ï¼šå……åˆ†åˆ©ç”¨ç³»ç»Ÿèƒ½åŠ›ï¼Œæ€§èƒ½æœ€ä¼˜

### 2. è®¾å¤‡æ§åˆ¶

#### æ§åˆ¶èƒ½åŠ›

- **Androidæ§åˆ¶PC**ï¼šæ‰‹æœºè¿œç¨‹æ§åˆ¶ç”µè„‘
  - è¿œç¨‹æ¡Œé¢ï¼š60FPSä½å»¶è¿Ÿå±å¹•é•œåƒ
  - è·¨ç«¯è¾“å…¥ï¼šæ‰‹æœºæ§åˆ¶ç”µè„‘é”®é¼ 
  - æ™ºèƒ½åŒæ­¥ï¼šå‰ªè´´æ¿/é€šçŸ¥åŒæ­¥

> âš ï¸ **é‡è¦æç¤º**ï¼šè®¾å¤‡æ§åˆ¶åŠŸèƒ½éœ€è¦**ä¸¤ç«¯éƒ½å®‰è£…åŸç”Ÿè½¯ä»¶**æ‰èƒ½ä½¿ç”¨

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

> ğŸ“š **ç›¸å…³æ–‡æ¡£**ï¼š
>
> - [Rust åº“é›†æˆæ–¹æ¡ˆå¯¹æ¯”](./docs/RUST_INTEGRATION_COMPARISON.md) - PC ç«¯ä¸ Android ç«¯é›†æˆæ–¹æ¡ˆè¯¦ç»†å¯¹æ¯”
> - [Android é›†æˆæ–¹æ¡ˆå…¨é¢å¯¹æ¯”](./docs/ANDROID_INTEGRATION_ALTERNATIVES.md) - æ‰€æœ‰å¯è¡Œçš„ Android é›†æˆæ–¹æ¡ˆï¼ˆTauri Mobileã€WASMã€Dioxus ç­‰ï¼‰
> - [Tauri Mobile æ–¹æ¡ˆæ–‡æ¡£](./docs/TAURI_MOBILE_SOLUTION.md) - Tauri Mobile è¯¦ç»†å®ç°æ–¹æ¡ˆ
> - [Tauri ä¸ Node.js ç”Ÿæ€æ”¯æŒ](./docs/TAURI_NODEJS_ECOSYSTEM.md) - äº†è§£å“ªäº› npm åŒ…å¯ä»¥åœ¨ Tauri Mobile ä¸­ä½¿ç”¨
> - [Tauri Mobile æ„å»ºäº§ç‰©åˆ†æ](./docs/TAURI_MOBILE_BUILD_PRODUCTS.md) - æ„å»ºé€Ÿåº¦ã€ä½“ç§¯ã€æ€§èƒ½ã€WebView ä¾èµ–è¯¦ç»†åˆ†æ
> - [Tauri æ„å»ºæµç¨‹è¯¦è§£](./docs/TAURI_BUILD_PROCESS.md) - å®Œæ•´çš„æ„å»ºæµç¨‹å’Œ CI/CD é…ç½®
> - [ç®€å†é¡¹ç›®ä¼˜åŒ–æŒ‡å—ï¼ˆReact Native ç‰ˆæœ¬ï¼‰](./docs/RESUME_OPTIMIZATION.md) - ä½¿ç”¨ React Native çš„ç®€å†ä¼˜åŒ–å»ºè®®
> - [ç®€å†é¡¹ç›®ä¼˜åŒ–æŒ‡å—ï¼ˆTauri Mobile ç‰ˆæœ¬ï¼‰](./docs/RESUME_OPTIMIZATION_TAURI_MOBILE.md) - ä½¿ç”¨ Tauri Mobile çš„ç®€å†ä¼˜åŒ–å»ºè®®
> - [æ–‡ä»¶ä¼ è¾“å®ç°æ–‡æ¡£](./docs/FILE_TRANSFER_IMPLEMENTATION.md) - æ–‡ä»¶ä¼ è¾“åŠŸèƒ½å®ç°ç»†èŠ‚

### 0. é¡¹ç›®ç›®å½•ç»“æ„å»ºè®®

**æ¨èçš„ Monorepo ç›®å½•ç»“æ„**ï¼š

```
Stationuli/
â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ package.json                 # æ ¹ package.jsonï¼ˆmonorepo é…ç½®ï¼‰
â”œâ”€â”€ pnpm-workspace.yaml          # pnpm workspace é…ç½®
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .editorconfig                # ç¼–è¾‘å™¨é…ç½®
â”‚
â”œâ”€â”€ apps/                        # åº”ç”¨ç¨‹åºç›®å½•
â”‚   â”œâ”€â”€ desktop/                 # PC ç«¯åº”ç”¨ï¼ˆTauriï¼‰
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ src/                 # React å‰ç«¯ä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ main.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # åº”ç”¨ç‰¹å®šç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/           # åº”ç”¨ç‰¹å®š hooks
â”‚   â”‚   â”‚   â””â”€â”€ stores/          # åº”ç”¨ç‰¹å®šçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ src-tauri/           # Tauri Rust åç«¯
â”‚   â”‚       â”œâ”€â”€ Cargo.toml
â”‚   â”‚       â”œâ”€â”€ tauri.conf.json
â”‚   â”‚       â”œâ”€â”€ src/
â”‚   â”‚       â”‚   â”œâ”€â”€ main.rs
â”‚   â”‚       â”‚   â””â”€â”€ lib.rs
â”‚   â”‚       â”œâ”€â”€ capabilities/
â”‚   â”‚       â””â”€â”€ icons/
â”‚   â”‚
â”‚   â””â”€â”€ mobile/                  # ç§»åŠ¨ç«¯åº”ç”¨ï¼ˆReact Native + Expoï¼‰
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ app.json             # Expo é…ç½®
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â”œâ”€â”€ app/                 # Expo Router è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ _layout.tsx
â”‚       â”‚   â””â”€â”€ (tabs)/
â”‚       â”œâ”€â”€ src/                 # React Native ä»£ç 
â”‚       â”‚   â”œâ”€â”€ components/      # åº”ç”¨ç‰¹å®šç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ hooks/           # åº”ç”¨ç‰¹å®š hooks
â”‚       â”‚   â””â”€â”€ stores/          # åº”ç”¨ç‰¹å®šçŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ native-modules/      # Native Modulesï¼ˆAndroid/iOSï¼‰
â”‚       â”‚   â””â”€â”€ stationuli-core/ # Stationuli Native Module
â”‚       â”‚       â”œâ”€â”€ android/     # Android åŸç”Ÿä»£ç 
â”‚       â”‚       â”‚   â”œâ”€â”€ src/main/java/com/stationuli/
â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ StationuliModule.kt
â”‚       â”‚       â”‚   â”‚   â””â”€â”€ StationuliPackage.kt
â”‚       â”‚       â”‚   â”œâ”€â”€ build.gradle
â”‚       â”‚       â”‚   â””â”€â”€ CMakeLists.txt
â”‚       â”‚       â”œâ”€â”€ ios/        # iOS åŸç”Ÿä»£ç ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”‚       â”‚       â””â”€â”€ package.json
â”‚       â”œâ”€â”€ expo-plugins/        # Expo Config Plugins
â”‚       â”‚   â””â”€â”€ with-stationuli-native.js
â”‚       â””â”€â”€ assets/              # é™æ€èµ„æº
â”‚
â”œâ”€â”€ packages/                    # å…±äº«åŒ…ç›®å½•
â”‚   â”œâ”€â”€ core/                    # Rust æ ¸å¿ƒåº“ï¼ˆå…±äº«ï¼‰
â”‚   â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”‚   â”œâ”€â”€ build.rs
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ lib.rs
â”‚   â”‚       â”œâ”€â”€ p2p/             # P2P åè®®æ ˆ
â”‚   â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚       â”‚   â”œâ”€â”€ quic.rs      # QUIC åè®®å®ç°
â”‚   â”‚       â”‚   â”œâ”€â”€ tcp.rs       # TCP åè®®å®ç°
â”‚   â”‚       â”‚   â””â”€â”€ mdns.rs      # mDNS è®¾å¤‡å‘ç°
â”‚   â”‚       â”œâ”€â”€ crypto/        # åŠ å¯†æ¨¡å—
â”‚   â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚       â”‚   â”œâ”€â”€ key_exchange.rs  # X25519 å¯†é’¥äº¤æ¢
â”‚   â”‚       â”‚   â””â”€â”€ encryption.rs     # AES-256 åŠ å¯†
â”‚   â”‚       â”œâ”€â”€ file/            # æ–‡ä»¶ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚       â”‚   â”œâ”€â”€ transfer.rs      # æ–‡ä»¶ä¼ è¾“
â”‚   â”‚       â”‚   â”œâ”€â”€ chunk.rs          # æ–‡ä»¶åˆ†ç‰‡
â”‚   â”‚       â”‚   â””â”€â”€ resume.rs         # æ–­ç‚¹ç»­ä¼ 
â”‚   â”‚       â””â”€â”€ ffi/             # FFI æ¥å£ï¼ˆä¾› Native Module ä½¿ç”¨ï¼‰
â”‚   â”‚           â”œâ”€â”€ mod.rs
â”‚   â”‚           â””â”€â”€ jni.rs       # JNI ç»‘å®šï¼ˆAndroidï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/                  # å…±äº«çš„ TypeScript/JavaScript ä»£ç 
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ transfer.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # å…±äº« React ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceList/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DeviceList.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DeviceItem.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TransferProgress/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TransferProgress.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/           # å…±äº« React Hooks
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useDeviceDiscovery.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useFileTransfer.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/          # å…±äº«çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deviceStore.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ transferStore.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validation.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ constants/        # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚       â”œâ”€â”€ config.ts
â”‚   â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ dist/                # ç¼–è¯‘è¾“å‡º
â”‚   â”‚
â”‚   â””â”€â”€ ui/                      # å…±äº« UI ç»„ä»¶åº“ï¼ˆå¯é€‰ï¼‰
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/      # åŸºç¡€ UI ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ Button/
â”‚       â”‚   â”‚   â”œâ”€â”€ Input/
â”‚       â”‚   â”‚   â””â”€â”€ Card/
â”‚       â”‚   â””â”€â”€ theme/           # ä¸»é¢˜é…ç½®
â”‚       â””â”€â”€ dist/
â”‚
â”œâ”€â”€ tools/                       # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ scripts/                 # æ„å»ºå’Œå¼€å‘è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ build-rust.sh        # Rust åº“æ„å»ºè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ setup-android-ndk.sh # Android NDK è®¾ç½®
â”‚   â”‚   â””â”€â”€ generate-icons.sh    # å›¾æ ‡ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ configs/                 # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚       â”œâ”€â”€ eslint.config.js
â”‚       â”œâ”€â”€ prettier.config.js
â”‚       â””â”€â”€ tsconfig.base.json
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ architecture/            # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                     # API æ–‡æ¡£
â”‚   â””â”€â”€ guides/                  # å¼€å‘æŒ‡å—
â”‚
â””â”€â”€ .github/                     # GitHub é…ç½®ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ workflows/               # CI/CD å·¥ä½œæµ
    â”‚   â”œâ”€â”€ build-desktop.yml
    â”‚   â””â”€â”€ build-mobile.yml
    â””â”€â”€ ISSUE_TEMPLATE/
```

**ç›®å½•ç»“æ„è¯´æ˜**ï¼š

1. **`apps/`** - åº”ç”¨ç¨‹åºç›®å½•
   - `desktop/` - PC ç«¯ Tauri åº”ç”¨
   - `mobile/` - ç§»åŠ¨ç«¯ React Native + Expo åº”ç”¨

2. **`packages/`** - å…±äº«åŒ…ç›®å½•
   - `core/` - Rust æ ¸å¿ƒåº“ï¼ˆP2Pã€åŠ å¯†ã€æ–‡ä»¶ç®¡ç†ç­‰ï¼‰
   - `shared/` - å…±äº«çš„ TypeScript/JavaScript ä»£ç ï¼ˆç»„ä»¶ã€hooksã€çŠ¶æ€ç®¡ç†ç­‰ï¼‰
   - `ui/` - å…±äº« UI ç»„ä»¶åº“ï¼ˆå¯é€‰ï¼Œç”¨äºç»Ÿä¸€è®¾è®¡ç³»ç»Ÿï¼‰

3. **`tools/`** - å·¥å…·å’Œè„šæœ¬
   - æ„å»ºè„šæœ¬ã€é…ç½®æ–‡ä»¶æ¨¡æ¿ç­‰

4. **`docs/`** - æ–‡æ¡£ç›®å½•
   - æ¶æ„æ–‡æ¡£ã€API æ–‡æ¡£ã€å¼€å‘æŒ‡å—ç­‰

**å…³é”®è®¾è®¡åŸåˆ™**ï¼š

âœ… **ä»£ç å¤ç”¨æœ€å¤§åŒ–**

- å…±äº« UI ç»„ä»¶ï¼š`packages/shared/src/components/`
- å…±äº«ä¸šåŠ¡é€»è¾‘ï¼š`packages/shared/src/hooks/`
- å…±äº«çŠ¶æ€ç®¡ç†ï¼š`packages/shared/src/stores/`
- å…±äº«ç±»å‹å®šä¹‰ï¼š`packages/shared/src/types/`

âœ… **æ ¸å¿ƒé€»è¾‘ç»Ÿä¸€**

- Rust æ ¸å¿ƒåº“ï¼š`packages/core/`ï¼ˆPC ç«¯ç›´æ¥ä½¿ç”¨ï¼Œç§»åŠ¨ç«¯é€šè¿‡ FFI è°ƒç”¨ï¼‰

âœ… **å¹³å°ç‰¹å®šä»£ç éš”ç¦»**

- PC ç«¯ç‰¹å®šä»£ç ï¼š`apps/desktop/src/`
- ç§»åŠ¨ç«¯ç‰¹å®šä»£ç ï¼š`apps/mobile/src/`
- Native Modulesï¼š`apps/mobile/native-modules/`

âœ… **æ¸…æ™°çš„ä¾èµ–å…³ç³»**

```
apps/desktop  â”€â”€â”
                â”œâ”€â”€> packages/shared (å…±äº« React ä»£ç )
apps/mobile   â”€â”€â”˜
                â”‚
apps/desktop/src-tauri â”€â”€â”
                         â”œâ”€â”€> packages/core (Rust æ ¸å¿ƒåº“)
apps/mobile/native-modules â”€â”€â”˜
```

**pnpm workspace é…ç½®**ï¼š

```yaml
# pnpm-workspace.yaml
packages:
  - "apps/*"
  - "packages/*"
```

**ä½¿ç”¨æ–¹å¼**ï¼š

```json
// apps/desktop/package.json
{
  "dependencies": {
    "@stationuli/shared": "workspace:*"
  }
}

// apps/mobile/package.json
{
  "dependencies": {
    "@stationuli/shared": "workspace:*"
  }
}

// apps/desktop/src-tauri/Cargo.toml
[dependencies]
stationuli-core = { path = "../../../packages/core" }
```

### 1. åˆ†å±‚è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UIå±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     PC      â”‚         Android                  â”‚ â”‚
â”‚  â”‚   Tauri     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚   + WRY     â”‚  â”‚  æ–¹æ¡ˆA:     â”‚  æ–¹æ¡ˆB:      â”‚ â”‚ â”‚
â”‚  â”‚   (React)   â”‚  â”‚  Compose    â”‚  React Nativeâ”‚ â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  (Kotlin)   â”‚  (TS/JS)     â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Native Moduleså±‚ (ä»…æ–¹æ¡ˆB)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React Native Native Modules (Kotlin/Java)   â”‚  â”‚
â”‚  â”‚  - Rust FFIç»‘å®š                               â”‚  â”‚
â”‚  â”‚  - æ¡¥æ¥å±‚                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ ¸å¿ƒå±‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Rustæ ¸å¿ƒåº“ (å…±äº«æ ¸å¿ƒé€»è¾‘)             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  P2Påè®®æ ˆ   â”‚   åŠ å¯†æ¨¡å—   â”‚ æ–‡ä»¶ç®¡ç†  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  QUIC/TCP    â”‚  ring-rs     â”‚ åˆ†ç‰‡/åˆå¹¶ â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  mDNSå‘ç°    â”‚  X25519      â”‚ æ–­ç‚¹ç»­ä¼   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  NATç©¿é€     â”‚  AES-256     â”‚          â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å…³é”®æŠ€æœ¯æ ˆå»ºè®®

#### 2.1 å‰ç«¯æŠ€æœ¯æ ˆ

| å¹³å°          | UIæ¡†æ¶                         | æ„å»ºå·¥å…·          | çŠ¶æ€ç®¡ç†              | è¯´æ˜                                                            |
| ------------- | ------------------------------ | ----------------- | --------------------- | --------------------------------------------------------------- |
| **PCç«¯**      | Tauri 2.0                      | Vite              | Zustand               | ä½¿ç”¨WebViewæ¸²æŸ“ï¼ŒRuståç«¯                                       |
| **Androidç«¯** | **æ–¹æ¡ˆAï¼šJetpack Compose**     | Gradle            | ViewModel + StateFlow | **Kotlinè¯­è¨€**ï¼ŒMaterial Design 3ï¼Œå®Œå…¨åŸç”Ÿ                     |
| **Androidç«¯** | **æ–¹æ¡ˆBï¼šReact Native + Expo** | Metro + EAS Build | Zustand/Jotai         | TypeScript/JavaScriptï¼Œè·¨å¹³å°UIï¼Œé€šè¿‡Native Modulesè°ƒç”¨Rustæ ¸å¿ƒ |

> ğŸ’¡ **ç§»åŠ¨ç«¯æŠ€æœ¯æ ˆé€‰æ‹©å»ºè®®**ï¼š
>
> - **æ–¹æ¡ˆAï¼ˆJetpack Composeï¼‰**ï¼šä½¿ç”¨**Kotlin**è¯­è¨€ï¼Œå®Œå…¨åŸç”Ÿï¼Œæ€§èƒ½æœ€ä¼˜ï¼Œé€‚åˆè¿½æ±‚æè‡´æ€§èƒ½çš„åœºæ™¯
> - **æ–¹æ¡ˆBï¼ˆReact Native + Expoï¼‰**ï¼šä½¿ç”¨**TypeScript/JavaScript**ï¼Œè·¨å¹³å°UIï¼Œä»£ç å¤ç”¨ç‡é«˜ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘å’Œæœªæ¥æ‰©å±•iOS

> âš ï¸ **é‡è¦è€ƒè™‘ï¼šæŠ€æœ¯æ ˆä¸€è‡´æ€§**
>
> **å½“å‰æ¶æ„**ï¼šPCç«¯ä½¿ç”¨ **Tauriï¼ˆRust + Reactï¼‰**
>
> - **æ–¹æ¡ˆAï¼ˆKotlin + Composeï¼‰**ï¼š
>   - âŒ **æŠ€æœ¯æ ˆä¸ä¸€è‡´**ï¼šPCç«¯æ˜¯Reactç”Ÿæ€ï¼ŒAndroidç«¯æ˜¯Kotlinç”Ÿæ€
>   - âŒ **ä»£ç æ— æ³•å¤ç”¨**ï¼šUIç»„ä»¶ã€ä¸šåŠ¡é€»è¾‘éœ€è¦ç»´æŠ¤ä¸¤å¥—ä»£ç 
>   - âŒ **ç»´æŠ¤æˆæœ¬é«˜**ï¼šéœ€è¦ç†Ÿæ‚‰Reactå’ŒKotlinä¸¤å¥—æŠ€æœ¯æ ˆ
>   - âœ… **æ€§èƒ½æœ€ä¼˜**ï¼šå®Œå…¨åŸç”Ÿï¼Œæ€§èƒ½æœ€ä½³
> - **æ–¹æ¡ˆBï¼ˆReact Native + Expoï¼‰**ï¼š
>   - âœ… **æŠ€æœ¯æ ˆç»Ÿä¸€**ï¼šPCç«¯å’ŒAndroidç«¯éƒ½ä½¿ç”¨Reactç”Ÿæ€
>   - âœ… **ä»£ç é«˜åº¦å¤ç”¨**ï¼šUIç»„ä»¶ã€çŠ¶æ€ç®¡ç†ã€ä¸šåŠ¡é€»è¾‘å¯å…±äº«
>   - âœ… **ç»´æŠ¤æˆæœ¬ä½**ï¼šåªéœ€ç»´æŠ¤ä¸€å¥—Reactä»£ç 
>   - âœ… **å¼€å‘æ•ˆç‡é«˜**ï¼šä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯ä½¿ç”¨
>   - âš ï¸ **æ€§èƒ½ç•¥ä½**ï¼šé€šè¿‡Native Moduleè°ƒç”¨Rustæ ¸å¿ƒï¼Œæ€§èƒ½å½±å“å¾ˆå°
>
> **æ¨è**ï¼šè€ƒè™‘åˆ°PCç«¯å·²ä½¿ç”¨Tauriï¼ˆReactï¼‰ï¼Œ**å¼ºçƒˆæ¨èæ–¹æ¡ˆBï¼ˆReact Native + Expoï¼‰**ï¼Œä»¥å®ç°æŠ€æœ¯æ ˆç»Ÿä¸€å’Œä»£ç å¤ç”¨ã€‚

> ğŸ“ **è¯­è¨€è¯´æ˜**ï¼š
>
> - **Jetpack Compose**ï¼šä¸»è¦ä½¿ç”¨ **Kotlin**ï¼ˆä¸æ˜¯Javaï¼‰ã€‚è™½ç„¶Androidä¹Ÿæ”¯æŒJavaï¼Œä½†Composeæ˜¯Kotlin-firstæ¡†æ¶ï¼Œç°ä»£Androidå¼€å‘æ¨èä½¿ç”¨Kotlin
> - **React Native**ï¼šä½¿ç”¨ **TypeScript/JavaScript**ï¼ŒNative Moduleséƒ¨åˆ†ä½¿ç”¨Kotlin/Java

#### 2.2 ä¼ è¾“åè®®æ ˆ

| åœºæ™¯                   | åè®®é€‰æ‹©       | æŠ€æœ¯å®ç°                        | è¯´æ˜                    |
| ---------------------- | -------------- | ------------------------------- | ----------------------- |
| **PC â†” PC**           | QUIC / TCPç›´è¿ | quinn (Rust)                    | å±€åŸŸç½‘ä¼˜å…ˆï¼ŒNATç©¿é€å¤‡ç”¨ |
| **PC â†” Android**      | QUIC / TCPç›´è¿ | quinn (Rust) / OkHttp (Android) | è·¨å¹³å°ç»Ÿä¸€åè®®          |
| **Android â†” Android** | QUIC / TCPç›´è¿ | OkHttp (Android)                | ç§»åŠ¨ç«¯é—´ä¼ è¾“            |
| **è®¾å¤‡å‘ç°**           | mDNS           | libmdns (Rust) / Android NSD    | å±€åŸŸç½‘è‡ªåŠ¨å‘ç°          |

#### 2.3 æ ¸å¿ƒåº“æ¨è

**Rustæ ¸å¿ƒåº“ï¼ˆå…±äº«ï¼‰**

- `tokio` - å¼‚æ­¥è¿è¡Œæ—¶
- `quinn` - QUICåè®®å®ç°
- `ring` - åŠ å¯†ç®—æ³•åº“
- `serde` - åºåˆ—åŒ–/ååºåˆ—åŒ–
- `libmdns` - mDNSè®¾å¤‡å‘ç°
- `stun` - STUNåè®®ï¼ˆNATç©¿é€ï¼‰

**Androidç«¯ï¼ˆæ–¹æ¡ˆAï¼šåŸç”Ÿï¼‰**

- `OkHttp` - HTTP/QUICå®¢æˆ·ç«¯
- `Conscrypt` - åŠ å¯†åº“
- `Room` - æœ¬åœ°æ•°æ®åº“ï¼ˆä¼ è¾“å†å²ï¼‰
- `Android NSD` - ç½‘ç»œæœåŠ¡å‘ç°

**Androidç«¯ï¼ˆæ–¹æ¡ˆBï¼šReact Native + Expoï¼‰**

- `react-native` - React Nativeæ ¸å¿ƒ
- `expo` - Expo SDKï¼ˆå¼€å‘å·¥å…·é“¾ï¼‰
- `@react-native-async-storage/async-storage` - æœ¬åœ°å­˜å‚¨
- `react-native-fs` - æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- `react-native-network-info` - ç½‘ç»œä¿¡æ¯
- **Native Modules**ï¼š
  - Rustæ ¸å¿ƒåº“é€šè¿‡FFIå°è£…ä¸ºNative Module
  - `react-native-quic`ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼Œå°è£…QUICåè®®ï¼‰
  - `react-native-mdns`ï¼ˆè‡ªå®šä¹‰æ¨¡å—ï¼Œå°è£…mDNSå‘ç°ï¼‰

**PCç«¯ï¼ˆTauriï¼‰**

- **æ ¸å¿ƒåº“**ï¼šç›´æ¥ä½¿ç”¨Rustæ ¸å¿ƒåº“ï¼ˆæ— éœ€FFIï¼ŒTauriæœ¬èº«å°±æ˜¯Rustï¼‰
- **æ–‡ä»¶ç³»ç»Ÿ**ï¼š`tauri-plugin-fs` - æ–‡ä»¶ç³»ç»Ÿè®¿é—®
- **ç³»ç»Ÿé€šçŸ¥**ï¼š`tauri-plugin-notification` - ç³»ç»Ÿé€šçŸ¥
- **å‰ªè´´æ¿**ï¼š`tauri-plugin-clipboard-manager` æˆ– `clipboard` crate
- **ç³»ç»ŸAPI**ï¼š
  - Windowsï¼š`windows` crate - DXGIå±å¹•æ•è·ã€SendInputè¾“å…¥æ¨¡æ‹Ÿ
  - macOSï¼š`core-graphics`ã€`avfoundation` crate - å±å¹•æ•è·ã€CGEventè¾“å…¥æ¨¡æ‹Ÿ
- **ç½‘ç»œåè®®**ï¼š`quinn` (QUIC)ã€`tokio` (TCP)ã€`libmdns` (è®¾å¤‡å‘ç°)
- **åŠ å¯†**ï¼š`ring`ã€`x25519-dalek` - åŠ å¯†ç®—æ³•

#### 2.4 æ§åˆ¶åŠŸèƒ½æŠ€æœ¯æ ˆ

| åŠŸèƒ½           | PCç«¯                                         | Androidç«¯                | è¯´æ˜         |
| -------------- | -------------------------------------------- | ------------------------ | ------------ |
| **å±å¹•æ•è·**   | Windows: DXGI / macOS: AVFoundation          | -                        | åŸç”ŸAPIå®ç°  |
| **è¾“å…¥æ¨¡æ‹Ÿ**   | Windows: SendInput / macOS: CGEvent          | Android InputManager     | éœ€è¦ç³»ç»Ÿæƒé™ |
| **å‰ªè´´æ¿åŒæ­¥** | Windows: Clipboard API / macOS: NSPasteboard | Android ClipboardManager | ç³»ç»ŸAPI      |
| **ç½‘ç»œä¼ è¾“**   | Rustæ ¸å¿ƒåº“ (QUIC)                            | OkHttp (QUIC)            | ä½å»¶è¿Ÿä¼ è¾“   |

> ğŸ’¡ **æŠ€æœ¯é€‰å‹è¯´æ˜**ï¼š
>
> - **ç»Ÿä¸€åè®®**ï¼šä½¿ç”¨QUIC/TCPä½œä¸ºè·¨å¹³å°åè®®ï¼ŒåŸç”Ÿç«¯ç›´æ¥å®ç°
> - **æ ¸å¿ƒå…±äº«**ï¼šRustæ ¸å¿ƒåº“é€šè¿‡FFIä¾›å„å¹³å°è°ƒç”¨ï¼Œä¿è¯ä¸€è‡´æ€§
> - **åŸç”Ÿä¼˜åŠ¿**ï¼šå……åˆ†åˆ©ç”¨ç³»ç»Ÿèƒ½åŠ›ï¼Œæ€§èƒ½æœ€ä¼˜ï¼ŒåŠŸèƒ½å®Œæ•´

#### 2.5 æŠ€æœ¯æ ˆé€‰æ‹©ç†ç”±

**ä¸ºä»€ä¹ˆé€‰æ‹©QUICè€ŒéWebRTCï¼Ÿ**

- âœ… åŸç”Ÿç«¯æ— éœ€æµè§ˆå™¨é™åˆ¶ï¼Œå¯ç›´æ¥ä½¿ç”¨æœ€ä¼˜åè®®
- âœ… QUICæ€§èƒ½æ›´ä¼˜ï¼Œè¿æ¥å»ºç«‹æ›´å¿«
- âœ… å†…ç½®å¤šè·¯å¤ç”¨å’Œæ‹¥å¡æ§åˆ¶
- âœ… æ›´é€‚åˆæ–‡ä»¶ä¼ è¾“åœºæ™¯

**ä¸ºä»€ä¹ˆé€‰æ‹©Rustä½œä¸ºæ ¸å¿ƒï¼Ÿ**

- âœ… æ€§èƒ½ä¼˜å¼‚ï¼Œé€‚åˆP2Pç½‘ç»œå¤„ç†
- âœ… å†…å­˜å®‰å…¨ï¼Œå‡å°‘å®‰å…¨æ¼æ´
- âœ… è·¨å¹³å°ç¼–è¯‘ï¼Œä¸€å¥—ä»£ç å¤šç«¯ä½¿ç”¨
- âœ… ä¸°å¯Œçš„å¼‚æ­¥ç”Ÿæ€ï¼ˆtokioï¼‰

**ä¸ºä»€ä¹ˆé€‰æ‹©Tauriè€ŒéElectronï¼Ÿ**

- âœ… ä½“ç§¯æ›´å°ï¼ˆ~10MB vs ~100MBï¼‰
- âœ… æ€§èƒ½æ›´å¥½ï¼ˆç³»ç»ŸWebView vs Chromiumï¼‰
- âœ… å®‰å…¨æ€§æ›´é«˜ï¼ˆRuståç«¯ï¼‰
- âœ… èµ„æºå ç”¨æ›´ä½

**Tauri ç‰ˆæœ¬é€‰æ‹©ï¼š1.0 vs 2.0**

> ğŸ“… **æ›´æ–°æ—¶é—´**ï¼šTauri 2.0 äº 2024 å¹´ 10 æœˆ 2 æ—¥å‘å¸ƒ

**Tauri 2.0 çš„ä¸»è¦ä¼˜åŠ¿**ï¼š

1. **ç§»åŠ¨å¹³å°æ”¯æŒ** âœ…
   - æ”¯æŒ iOS å’Œ Android å¼€å‘
   - è™½ç„¶æœ¬é¡¹ç›® Android ç«¯ä½¿ç”¨ React Nativeï¼Œä½†æœªæ¥æ‰©å±• iOS æ—¶å¯ç”¨ Tauri
   - ä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œï¼ˆæ¡Œé¢ + ç§»åŠ¨ï¼‰

2. **æ’ä»¶ç³»ç»Ÿå¢å¼º** âœ…
   - æ›´å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿ
   - æ”¯æŒ Swiftï¼ˆiOSï¼‰å’Œ Kotlinï¼ˆAndroidï¼‰ç¼–å†™å¹³å°ç‰¹å®šä»£ç 
   - æ›´æ·±å…¥çš„ç³»ç»Ÿé›†æˆèƒ½åŠ›

3. **å®‰å…¨æ€§æå‡** âœ…
   - å…¨é¢çš„å®‰å…¨å®¡è®¡
   - æ”¹è¿›çš„æƒé™ç³»ç»Ÿ
   - æ›´å¥½çš„å®‰å…¨å®è·µ

4. **API æ”¹è¿›** âœ…
   - æ›´æ¸…æ™°çš„ API è®¾è®¡
   - æ›´å¥½çš„ TypeScript ç±»å‹æ”¯æŒ
   - æ”¹è¿›çš„é”™è¯¯å¤„ç†

**Tauri 1.0 çš„ä¼˜åŠ¿**ï¼š

1. **æˆç†Ÿç¨³å®š** âœ…
   - å‘å¸ƒå·²ä¹…ï¼Œç”Ÿæ€æˆç†Ÿ
   - æ–‡æ¡£å®Œå–„ï¼Œç¤¾åŒºèµ„æºä¸°å¯Œ
   - ç¬¬ä¸‰æ–¹æ’ä»¶æ›´å¤š

2. **è¿ç§»æˆæœ¬ä½** âœ…
   - æ— éœ€å­¦ä¹ æ–° API
   - ç°æœ‰é¡¹ç›®å¯ç›´æ¥ä½¿ç”¨
   - å…¼å®¹æ€§å¥½

**é’ˆå¯¹æœ¬é¡¹ç›®çš„å»ºè®®**ï¼š

âœ… **æ¨èä½¿ç”¨ Tauri 2.0**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **é¡¹ç›®å¤„äºåˆæœŸé˜¶æ®µ** ğŸš€
   - é¡¹ç›®åˆšå¼€å§‹ï¼Œæ²¡æœ‰å†å²åŒ…è¢±
   - ç›´æ¥ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œé¿å…æœªæ¥å‡çº§æˆæœ¬
   - 2.0 çš„ API è®¾è®¡æ›´åˆç†ï¼Œé•¿æœŸç»´æŠ¤æˆæœ¬æ›´ä½

2. **åŠŸèƒ½éœ€æ±‚åŒ¹é…** ğŸ¯
   - æœ¬é¡¹ç›®éœ€è¦æ·±åº¦ç³»ç»Ÿé›†æˆï¼ˆå±å¹•æ•è·ã€è¾“å…¥æ¨¡æ‹Ÿç­‰ï¼‰
   - Tauri 2.0 çš„æ’ä»¶ç³»ç»Ÿæ›´é€‚åˆå¤æ‚åŠŸèƒ½
   - æ›´å¥½çš„æƒé™ç®¡ç†ï¼Œé€‚åˆéœ€è¦ç³»ç»Ÿæƒé™çš„åœºæ™¯

3. **æœªæ¥æ‰©å±•æ€§** ğŸ”®
   - è™½ç„¶ç›®å‰ Android ç«¯ä½¿ç”¨ React Nativeï¼Œä½†æœªæ¥å¯èƒ½è€ƒè™‘ iOS
   - Tauri 2.0 çš„ç§»åŠ¨ç«¯æ”¯æŒä¸ºæœªæ¥æä¾›æ›´å¤šé€‰æ‹©
   - å¦‚æœæœªæ¥éœ€è¦ç»Ÿä¸€æŠ€æœ¯æ ˆï¼ŒTauri 2.0 æ˜¯æ›´å¥½çš„é€‰æ‹©

4. **å®‰å…¨æ€§è¦æ±‚** ğŸ”
   - æœ¬é¡¹ç›®å¼ºè°ƒå®Œå…¨ç§æœ‰ã€ç«¯åˆ°ç«¯åŠ å¯†
   - Tauri 2.0 çš„å®‰å…¨å®¡è®¡å’Œæƒé™ç³»ç»Ÿæ›´é€‚åˆå®‰å…¨æ•æ„Ÿåº”ç”¨

5. **é•¿æœŸç»´æŠ¤** ğŸ“ˆ
   - Tauri 1.0 å°†é€æ­¥è¿›å…¥ç»´æŠ¤æ¨¡å¼
   - ä½¿ç”¨ 2.0 å¯ä»¥æŒç»­è·å¾—æ–°åŠŸèƒ½å’Œ bug ä¿®å¤
   - ç¤¾åŒºå’Œå®˜æ–¹æ”¯æŒå°†æ›´å¤šé›†ä¸­åœ¨ 2.0

**æ³¨æ„äº‹é¡¹**ï¼š

âš ï¸ **è¿ç§»è€ƒè™‘**ï¼š

- å¦‚æœå·²æœ‰ Tauri 1.0 é¡¹ç›®ï¼Œéœ€è¦å‚è€ƒ[å®˜æ–¹è¿ç§»æŒ‡å—](https://v2.tauri.app/zh-cn/start/migrate/)
- æ–°é¡¹ç›®ç›´æ¥ä½¿ç”¨ 2.0ï¼Œæ— éœ€è¿ç§»

âš ï¸ **æ’ä»¶å…¼å®¹æ€§**ï¼š

- éƒ¨åˆ†ç¬¬ä¸‰æ–¹æ’ä»¶å¯èƒ½å°šæœªæ”¯æŒ 2.0
- æœ¬é¡¹ç›®ä¸»è¦ä½¿ç”¨å®˜æ–¹æ’ä»¶ï¼ˆ`tauri-plugin-fs`ã€`tauri-plugin-notification` ç­‰ï¼‰ï¼Œå‡å·²æ”¯æŒ 2.0

âš ï¸ **æ–‡æ¡£èµ„æº**ï¼š

- Tauri 2.0 æ–‡æ¡£å·²å®Œå–„
- ç¤¾åŒºèµ„æºç›¸å¯¹è¾ƒå°‘ï¼Œä½†å®˜æ–¹æ–‡æ¡£è¶³å¤Ÿè¯¦ç»†

**ç»“è®º**ï¼š

å¯¹äº **Stationuli é¡¹ç›®**ï¼Œ**å¼ºçƒˆæ¨èä½¿ç”¨ Tauri 2.0**ï¼š

- âœ… é¡¹ç›®åˆæœŸï¼Œæ— å†å²åŒ…è¢±
- âœ… éœ€è¦æ·±åº¦ç³»ç»Ÿé›†æˆï¼Œ2.0 æ’ä»¶ç³»ç»Ÿæ›´å¼ºå¤§
- âœ… å®‰å…¨è¦æ±‚é«˜ï¼Œ2.0 å®‰å…¨æ€§æ›´å¥½
- âœ… æœªæ¥å¯èƒ½æ‰©å±• iOSï¼Œ2.0 æ”¯æŒç§»åŠ¨ç«¯
- âœ… é•¿æœŸç»´æŠ¤ï¼ŒæŒç»­è·å¾—æ›´æ–°

**Taurièƒ½å¦æ»¡è¶³äº§å“åŠŸèƒ½éœ€æ±‚ï¼Ÿ**

âœ… **å®Œå…¨æ»¡è¶³**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

**1. æ–‡ä»¶ä¼ è¾“åŠŸèƒ½** âœ…

- âœ… **æ–‡ä»¶ç³»ç»Ÿè®¿é—®**ï¼š`tauri-plugin-fs`æä¾›å®Œæ•´çš„æ–‡ä»¶è¯»å†™èƒ½åŠ›
- âœ… **ç½‘ç»œåè®®**ï¼šRuståç«¯å¯ç›´æ¥ä½¿ç”¨`quinn`ï¼ˆQUICï¼‰å’Œ`tokio`ï¼ˆTCPï¼‰
- âœ… **mDNSå‘ç°**ï¼šRuståç«¯å¯ä½¿ç”¨`libmdns`åº“
- âœ… **åŠ å¯†åŠŸèƒ½**ï¼šRuståç«¯å¯ä½¿ç”¨`ring`ã€`x25519-dalek`ç­‰åŠ å¯†åº“
- âœ… **å¤§æ–‡ä»¶å¤„ç†**ï¼šRuståç«¯å¯é«˜æ•ˆå¤„ç†æ–‡ä»¶åˆ†ç‰‡ã€æ–­ç‚¹ç»­ä¼ 

**2. è®¾å¤‡æ§åˆ¶åŠŸèƒ½ï¼ˆPCç«¯ä½œä¸ºè¢«æ§åˆ¶ç«¯ï¼‰** âœ…

- âœ… **å±å¹•æ•è·**ï¼š
  - Windowsï¼šRuståç«¯å¯ç›´æ¥è°ƒç”¨`windows` crateè®¿é—®DXGI API
  - macOSï¼šRuståç«¯å¯ç›´æ¥è°ƒç”¨`core-graphics`å’Œ`avfoundation` crate
  - å¯é€šè¿‡Tauri Commandæš´éœ²ç»™å‰ç«¯
- âœ… **è¾“å…¥æ¨¡æ‹Ÿ**ï¼š
  - Windowsï¼šRuståç«¯å¯ä½¿ç”¨`windows` crateçš„`SendInput` API
  - macOSï¼šRuståç«¯å¯ä½¿ç”¨`core-graphics` crateçš„`CGEvent` API
  - éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆTauriæ”¯æŒæƒé™è¯·æ±‚ï¼‰
- âœ… **å‰ªè´´æ¿åŒæ­¥**ï¼š
  - å¯ä½¿ç”¨`tauri-plugin-clipboard-manager`æˆ–Rustçš„`clipboard` crate
  - æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ç­‰æ ¼å¼

**3. ç½‘ç»œåŠŸèƒ½** âœ…

- âœ… **NATç©¿é€**ï¼šRuståç«¯å¯ä½¿ç”¨`stun`ã€`turn`ç­‰åº“
- âœ… **P2Pè¿æ¥**ï¼šRuståç«¯å®Œå…¨æ”¯æŒQUIC/TCPç›´è¿
- âœ… **è®¾å¤‡å‘ç°**ï¼šRuståç«¯æ”¯æŒmDNSï¼ˆå±€åŸŸç½‘ï¼‰å’Œæ‰‹åŠ¨è¿æ¥ï¼ˆè¿œç¨‹ï¼‰

**4. ç³»ç»Ÿé›†æˆ** âœ…

- âœ… **ç³»ç»Ÿé€šçŸ¥**ï¼š`tauri-plugin-notification`
- âœ… **åå°è¿è¡Œ**ï¼šTauriæ”¯æŒç³»ç»Ÿæ‰˜ç›˜å’Œåå°æœåŠ¡
- âœ… **æƒé™ç®¡ç†**ï¼šTauriæ”¯æŒè¯·æ±‚ç³»ç»Ÿæƒé™ï¼ˆç½‘ç»œã€æ–‡ä»¶ç­‰ï¼‰
- âœ… **è‡ªåŠ¨å¯åŠ¨**ï¼šå¯é€šè¿‡ç³»ç»ŸAPIå®ç°å¼€æœºè‡ªå¯

**å®ç°æ–¹å¼**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tauriå‰ç«¯ (React)                 â”‚
â”‚   - UIç•Œé¢                          â”‚
â”‚   - çŠ¶æ€ç®¡ç†                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ (Tauri Command)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tauri Ruståç«¯                     â”‚
â”‚   - è°ƒç”¨ç³»ç»ŸAPIï¼ˆå±å¹•æ•è·ã€è¾“å…¥ï¼‰    â”‚
â”‚   - ç½‘ç»œåè®®æ ˆï¼ˆQUIC/mDNSï¼‰          â”‚
â”‚   - æ–‡ä»¶ç®¡ç†                         â”‚
â”‚   - åŠ å¯†æ¨¡å—                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ (ç³»ç»ŸAPI)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ“ä½œç³»ç»Ÿ                           â”‚
â”‚   - Windows/macOSåŸç”ŸAPI             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ³¨æ„äº‹é¡¹**ï¼š

- âš ï¸ **å±å¹•æ•è·æƒé™**ï¼šmacOSéœ€è¦å±å¹•å½•åˆ¶æƒé™ï¼ŒTauriå¯å¼•å¯¼ç”¨æˆ·æˆæƒ
- âš ï¸ **è¾“å…¥æ¨¡æ‹Ÿæƒé™**ï¼šæŸäº›ç³»ç»Ÿå¯èƒ½éœ€è¦è¾…åŠ©åŠŸèƒ½æƒé™
- âš ï¸ **ç½‘ç»œæƒé™**ï¼šéœ€è¦é˜²ç«å¢™å’Œç½‘ç»œè®¿é—®æƒé™
- âœ… **æ‰€æœ‰åŠŸèƒ½å‡å¯é€šè¿‡Ruståç«¯å®ç°**ï¼ŒTauriæä¾›äº†å®Œæ•´çš„ç³»ç»Ÿè®¿é—®èƒ½åŠ›

**ä¸ºä»€ä¹ˆJetpack Composeä½¿ç”¨Kotlinè€ŒéJavaï¼Ÿ**

- âœ… **å®˜æ–¹æ¨è**ï¼šGoogleå®˜æ–¹æ¨èKotlinä½œä¸ºAndroidå¼€å‘çš„é¦–é€‰è¯­è¨€
- âœ… **ComposeåŸç”Ÿæ”¯æŒ**ï¼šJetpack Composeæ˜¯Kotlin-firstæ¡†æ¶ï¼Œè¯­æ³•æ›´ç®€æ´
- âœ… **ç°ä»£ç‰¹æ€§**ï¼šKotlinæä¾›åç¨‹ã€ç©ºå®‰å…¨ã€æ‰©å±•å‡½æ•°ç­‰ç°ä»£è¯­è¨€ç‰¹æ€§
- âœ… **äº’æ“ä½œæ€§**ï¼šKotlinä¸Java 100%äº’æ“ä½œï¼Œå¯è°ƒç”¨Javaåº“
- âœ… **å¼€å‘æ•ˆç‡**ï¼šä»£ç æ›´ç®€æ´ï¼Œå‡å°‘æ ·æ¿ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡
- âš ï¸ **æ³¨æ„**ï¼šè™½ç„¶Androidä¹Ÿæ”¯æŒJavaï¼Œä½†Jetpack Composeä¸»è¦è®¾è®¡ç”¨äºKotlinï¼Œä½¿ç”¨Javaå¼€å‘Composeä¼šéå¸¸å›°éš¾

**ä¸ºä»€ä¹ˆä½¿ç”¨mDNSè¿›è¡Œè®¾å¤‡å‘ç°ï¼Ÿ**

- âœ… é›¶é…ç½®ï¼Œå±€åŸŸç½‘è‡ªåŠ¨å‘ç°
- âœ… æ— éœ€æœåŠ¡å™¨ï¼Œå®Œå…¨P2P
- âœ… ç³»ç»ŸåŸç”Ÿæ”¯æŒï¼Œæ€§èƒ½å¥½
- âœ… éšç§ä¿æŠ¤ï¼Œä¸ä¾èµ–å¤–éƒ¨æœåŠ¡

**ç§»åŠ¨ç«¯ï¼šReact Native + Expo vs åŸç”ŸComposeï¼Ÿ**

**é€‰æ‹©React Native + Expoçš„ä¼˜åŠ¿**ï¼š

- âœ… **æŠ€æœ¯æ ˆç»Ÿä¸€**ï¼šä¸PCç«¯Tauriï¼ˆReactï¼‰ä¿æŒä¸€è‡´ï¼Œä»£ç å¤ç”¨ç‡é«˜
- âœ… **UIç»„ä»¶å…±äº«**ï¼šReactç»„ä»¶å¯åœ¨PCç«¯å’ŒAndroidç«¯å¤ç”¨
- âœ… **çŠ¶æ€ç®¡ç†ç»Ÿä¸€**ï¼šZustandç­‰çŠ¶æ€ç®¡ç†åº“å¯è·¨å¹³å°ä½¿ç”¨
- âœ… **ä¸šåŠ¡é€»è¾‘å¤ç”¨**ï¼šæ–‡ä»¶é€‰æ‹©ã€è®¾å¤‡å‘ç°ç­‰é€»è¾‘å¯å…±äº«
- âœ… **è·¨å¹³å°æ½œåŠ›**ï¼šæœªæ¥å¯æ‰©å±•iOSï¼Œä¸€å¥—ä»£ç ä¸‰ç«¯è¿è¡Œ
- âœ… **å¼€å‘æ•ˆç‡**ï¼šReactç”Ÿæ€ä¸°å¯Œï¼Œå¼€å‘é€Ÿåº¦å¿«
- âœ… **çƒ­æ›´æ–°**ï¼šExpoæ”¯æŒOTAæ›´æ–°ï¼Œæ— éœ€åº”ç”¨å•†åº—å®¡æ ¸
- âœ… **ç»´æŠ¤æˆæœ¬ä½**ï¼šåªéœ€ç»´æŠ¤ä¸€å¥—Reactä»£ç åº“

**é€‰æ‹©React Native + Expoçš„æ³¨æ„äº‹é¡¹**ï¼š

- âš ï¸ **åŸç”Ÿæ¨¡å—**ï¼šéœ€è¦å°†Rustæ ¸å¿ƒåº“å°è£…ä¸ºNative Moduleï¼ˆé€šè¿‡FFIï¼‰
- âš ï¸ **æ€§èƒ½è€ƒè™‘**ï¼šç½‘ç»œä¼ è¾“ç­‰æ ¸å¿ƒåŠŸèƒ½é€šè¿‡Native Moduleå®ç°ï¼Œæ€§èƒ½å½±å“å°ï¼ˆ<5%ï¼‰
- âš ï¸ **Expoé™åˆ¶**ï¼šæŸäº›é«˜çº§åŠŸèƒ½å¯èƒ½éœ€è¦EAS Buildæˆ–ejectåˆ°bare workflow
- âš ï¸ **åŒ…ä½“ç§¯**ï¼šç›¸æ¯”çº¯åŸç”Ÿç•¥å¤§ï¼ˆ~5-10MBï¼‰ï¼Œä½†å¯æ¥å—

**é€‰æ‹©Jetpack Composeçš„åŠ£åŠ¿**ï¼š

- âŒ **æŠ€æœ¯æ ˆä¸ä¸€è‡´**ï¼šPCç«¯Reactï¼ŒAndroidç«¯Kotlinï¼Œä»£ç æ— æ³•å¤ç”¨
- âŒ **ç»´æŠ¤æˆæœ¬é«˜**ï¼šéœ€è¦ç»´æŠ¤ä¸¤å¥—UIä»£ç å’Œä¸šåŠ¡é€»è¾‘
- âŒ **å¼€å‘æ•ˆç‡ä½**ï¼šæ–°åŠŸèƒ½éœ€è¦åœ¨ä¸¤ä¸ªå¹³å°åˆ†åˆ«å®ç°
- âŒ **å›¢é˜ŸæŠ€èƒ½è¦æ±‚**ï¼šéœ€è¦åŒæ—¶æŒæ¡Reactå’ŒKotlin

**æ¨èæ–¹æ¡ˆ**ï¼š

- **å¼ºçƒˆæ¨è**ï¼š**React Native + Expo**ï¼ˆæŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œä»£ç å¤ç”¨ï¼Œç»´æŠ¤æˆæœ¬ä½ï¼‰
- **å¤‡é€‰æ–¹æ¡ˆ**ï¼š**Jetpack Compose**ï¼ˆä»…åœ¨è¿½æ±‚æè‡´æ€§èƒ½ä¸”ä¸è€ƒè™‘ä»£ç å¤ç”¨æ—¶é€‰æ‹©ï¼‰

### 3. æ¶æ„è®¾è®¡è¯´æ˜

#### 3.1 æŠ€æœ¯æ ˆç»Ÿä¸€æ¶æ„ï¼ˆæ¨èï¼‰

**æ ¸å¿ƒæ€è·¯**ï¼šPCç«¯å’ŒAndroidç«¯ç»Ÿä¸€ä½¿ç”¨Reactç”Ÿæ€ï¼Œå®ç°ä»£ç å¤ç”¨

**æ¶æ„ä¼˜åŠ¿**ï¼š

- âœ… **UIç»„ä»¶å…±äº«**ï¼šReactç»„ä»¶å¯åœ¨Tauriå’ŒReact Nativeä¸­å¤ç”¨
- âœ… **çŠ¶æ€ç®¡ç†ç»Ÿä¸€**ï¼šZustandçŠ¶æ€ç®¡ç†åº“è·¨å¹³å°ä½¿ç”¨
- âœ… **ä¸šåŠ¡é€»è¾‘å¤ç”¨**ï¼šè®¾å¤‡å‘ç°ã€æ–‡ä»¶é€‰æ‹©ç­‰é€»è¾‘å¯å…±äº«
- âœ… **å¼€å‘æ•ˆç‡æå‡**ï¼šä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯è¿è¡Œ

#### 3.2 æ¶æ„å¯¹æ¯”ï¼šæŠ€æœ¯æ ˆç»Ÿä¸€ vs æŠ€æœ¯æ ˆåˆ†ç¦»

**æ–¹æ¡ˆAï¼šæŠ€æœ¯æ ˆåˆ†ç¦»ï¼ˆKotlin + Composeï¼‰**

```
PCç«¯ (Tauri)              Androidç«¯ (Compose)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React UI    â”‚          â”‚ Kotlin UI   â”‚  âŒ ä»£ç æ— æ³•å¤ç”¨
â”‚ Zustand     â”‚          â”‚ StateFlow   â”‚  âŒ ç»´æŠ¤ä¸¤å¥—ä»£ç 
â”‚ TypeScript  â”‚          â”‚ Kotlin      â”‚  âŒ æŠ€æœ¯æ ˆä¸ä¸€è‡´
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Rustæ ¸å¿ƒåº“ (å…±äº«)                â”‚
â”‚  - P2Påè®®æ ˆ                          â”‚
â”‚  - åŠ å¯†æ¨¡å—                           â”‚
â”‚  - æ–‡ä»¶ç®¡ç†                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ–¹æ¡ˆBï¼šæŠ€æœ¯æ ˆç»Ÿä¸€ï¼ˆReact Native + Expoï¼‰âœ… æ¨è**

```
PCç«¯ (Tauri)              Androidç«¯ (RN)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React UI    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ React UI    â”‚  âœ… ç»„ä»¶å…±äº«
â”‚ Zustand     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Zustand     â”‚  âœ… çŠ¶æ€å…±äº«
â”‚ TypeScript  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ TypeScript  â”‚  âœ… é€»è¾‘å¤ç”¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Rustæ ¸å¿ƒåº“ (å…±äº«)                â”‚
â”‚  - P2Påè®®æ ˆ                          â”‚
â”‚  - åŠ å¯†æ¨¡å—                           â”‚
â”‚  - æ–‡ä»¶ç®¡ç†                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.3 React Native + Expo æ¶æ„é›†æˆ

**æ ¸å¿ƒæ€è·¯**ï¼šUIå±‚ä½¿ç”¨React Nativeï¼Œæ ¸å¿ƒåŠŸèƒ½é€šè¿‡Native Modulesè°ƒç”¨Ruståº“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      React Native UIå±‚ (JavaScript)     â”‚
â”‚  - Reactç»„ä»¶ï¼ˆä¸Tauriå…±äº«ï¼‰             â”‚
â”‚  - ZustandçŠ¶æ€ç®¡ç†ï¼ˆä¸Tauriå…±äº«ï¼‰       â”‚
â”‚  - Expo SDK                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ (Native Modules)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Native Modules (Kotlin/Java)       â”‚
â”‚  - Rust FFIç»‘å®š                          â”‚
â”‚  - QUIC/mDNSå°è£…                        â”‚
â”‚  - æ–‡ä»¶ç³»ç»Ÿè®¿é—®                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ (FFI)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Rustæ ¸å¿ƒåº“ (å…±äº«)                   â”‚
â”‚  - P2Påè®®æ ˆ                             â”‚
â”‚  - åŠ å¯†æ¨¡å—                              â”‚
â”‚  - æ–‡ä»¶ç®¡ç†                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°è¦ç‚¹**ï¼š

1. **Rustæ ¸å¿ƒåº“å°è£…**ï¼šé€šè¿‡`jni`æˆ–`cxx`åˆ›å»ºKotlinå¯è°ƒç”¨çš„æ¥å£
2. **Native Moduleåˆ›å»º**ï¼šä½¿ç”¨`@react-native-community/bob`æˆ–æ‰‹åŠ¨åˆ›å»º
3. **Expoé…ç½®**ï¼šä½¿ç”¨`expo-build-properties`é…ç½®åŸç”Ÿæ„å»ºé€‰é¡¹
4. **å¼€å‘æµç¨‹**ï¼šExpo Goç”¨äºUIå¼€å‘ï¼ŒEAS Buildç”¨äºå®Œæ•´åŠŸèƒ½æµ‹è¯•

#### 3.3.1 Expo ä¸­é›†æˆ Native Module è¯¦ç»†æŒ‡å—

**âœ… ç¡®è®¤ï¼šäº§å“å®Œå…¨å¯ä»¥ä½¿ç”¨ Expo**

Expo æ”¯æŒè‡ªå®šä¹‰ Native Moduleï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é›†æˆï¼š

##### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Expo Config Pluginï¼ˆæ¨èï¼‰

Expo Config Plugin å…è®¸åœ¨æ„å»ºæ—¶ä¿®æ”¹åŸç”Ÿä»£ç ï¼Œæ— éœ€ ejectã€‚

**1. é¡¹ç›®ç»“æ„**

```
stationuli-mobile/
â”œâ”€â”€ app.json                    # Expo é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ src/                        # React Native ä»£ç 
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”œâ”€â”€ native-modules/             # Native Module ä»£ç 
â”‚   â””â”€â”€ stationuli-core/
â”‚       â”œâ”€â”€ android/            # Android åŸç”Ÿä»£ç 
â”‚       â”‚   â”œâ”€â”€ src/main/java/com/stationuli/
â”‚       â”‚   â”‚   â””â”€â”€ StationuliModule.kt
â”‚       â”‚   â”œâ”€â”€ build.gradle
â”‚       â”‚   â””â”€â”€ CMakeLists.txt  # ç”¨äºç¼–è¯‘ Rust åº“
â”‚       â”œâ”€â”€ ios/               # iOS åŸç”Ÿä»£ç ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ rust-core/                  # Rust æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â””â”€â”€ expo-plugins/               # Expo Config Plugins
    â””â”€â”€ with-stationuli-native.js
```

**2. åˆ›å»º Expo Config Plugin**

```javascript
// expo-plugins/with-stationuli-native.js
const { withDangerousMod } = require("@expo/config-plugins");
const fs = require("fs");
const path = require("path");

module.exports = function withStationuliNative(config) {
  return withDangerousMod(config, [
    "android",
    async (config) => {
      const gradlePath = path.join(
        config.modRequest.platformProjectRoot,
        "app/build.gradle"
      );

      // è¯»å– build.gradle
      let gradleContent = fs.readFileSync(gradlePath, "utf8");

      // æ·»åŠ  Rust åº“ä¾èµ–
      if (!gradleContent.includes("stationuli-core")) {
        gradleContent += `
// Stationuli Native Module
dependencies {
    implementation project(':stationuli-core')
}
`;
      }

      // æ·»åŠ  CMake é…ç½®ï¼ˆç”¨äºç¼–è¯‘ Rustï¼‰
      if (!gradleContent.includes("externalNativeBuild")) {
        gradleContent += `
android {
    externalNativeBuild {
        cmake {
            path "src/main/cpp/CMakeLists.txt"
        }
    }
}
`;
      }

      fs.writeFileSync(gradlePath, gradleContent);
      return config;
    },
  ]);
};
```

**3. é…ç½® app.json**

```json
{
  "expo": {
    "name": "Stationuli",
    "plugins": [
      "./expo-plugins/with-stationuli-native.js",
      [
        "expo-build-properties",
        {
          "android": {
            "compileSdkVersion": 34,
            "minSdkVersion": 28,
            "targetSdkVersion": 34,
            "buildToolsVersion": "34.0.0",
            "ndkVersion": "25.1.8937393"
          }
        }
      ]
    ]
  }
}
```

**4. Rust æ ¸å¿ƒåº“ç¼–è¯‘ä¸º Android åº“**

**Rust ç«¯ï¼ˆä½¿ç”¨ `jni` crateï¼‰**ï¼š

```rust
// rust-core/Cargo.toml
[package]
name = "stationuli-core"
version = "0.1.0"

[lib]
name = "stationuli_core"
crate-type = ["cdylib"]  # ç¼–è¯‘ä¸ºåŠ¨æ€åº“

[dependencies]
jni = "0.21"
tokio = { version = "1", features = ["full"] }
quinn = "0.10"
# ... å…¶ä»–ä¾èµ–

// rust-core/src/lib.rs
use jni::JNIEnv;
use jni::objects::{JClass, JString};
use jni::sys::{jstring, jboolean};

#[no_mangle]
pub extern "system" fn Java_com_stationuli_StationuliModule_startMdnsDiscovery(
    env: JNIEnv,
    _class: JClass,
) -> jstring {
    // è°ƒç”¨ Rust æ ¸å¿ƒé€»è¾‘
    let result = start_mdns_discovery();
    let output = env.new_string(result).unwrap();
    output.into_raw()
}

#[no_mangle]
pub extern "system" fn Java_com_stationuli_StationuliModule_connectToDevice(
    env: JNIEnv,
    _class: JClass,
    device_id: JString,
) -> jboolean {
    let device_id: String = env
        .get_string(device_id)
        .expect("Couldn't get java string!")
        .into();

    let success = connect_to_device(&device_id);
    success as jboolean
}

// Rust æ ¸å¿ƒé€»è¾‘
fn start_mdns_discovery() -> String {
    // å®ç° mDNS å‘ç°é€»è¾‘
    // è¿”å› JSON å­—ç¬¦ä¸²
    r#"[]"#.to_string()
}

fn connect_to_device(device_id: &str) -> bool {
    // å®ç°è¿æ¥é€»è¾‘
    true
}
```

**5. Android Native Moduleï¼ˆKotlinï¼‰**

```kotlin
// native-modules/stationuli-core/android/src/main/java/com/stationuli/StationuliModule.kt
package com.stationuli

import com.facebook.react.bridge.ReactApplicationContext
import com.facebook.react.bridge.ReactContextBaseJavaModule
import com.facebook.react.bridge.ReactMethod
import com.facebook.react.bridge.Promise

class StationuliModule(reactContext: ReactApplicationContext)
    : ReactContextBaseJavaModule(reactContext) {

    init {
        // åŠ è½½ç¼–è¯‘å¥½çš„ Rust åŠ¨æ€åº“
        System.loadLibrary("stationuli_core")
    }

    override fun getName(): String {
        return "StationuliModule"
    }

    // å£°æ˜ Rust FFI å‡½æ•°
    external fun startMdnsDiscovery(): String
    external fun connectToDevice(deviceId: String): Boolean
    external fun sendFile(filePath: String, targetDeviceId: String): Boolean

    @ReactMethod
    fun discoverDevices(promise: Promise) {
        try {
            val devicesJson = startMdnsDiscovery()
            promise.resolve(devicesJson)
        } catch (e: Exception) {
            promise.reject("DISCOVERY_ERROR", e.message, e)
        }
    }

    @ReactMethod
    fun connect(deviceId: String, promise: Promise) {
        try {
            val success = connectToDevice(deviceId)
            if (success) {
                promise.resolve(true)
            } else {
                promise.reject("CONNECTION_ERROR", "Failed to connect")
            }
        } catch (e: Exception) {
            promise.reject("CONNECTION_ERROR", e.message, e)
        }
    }

    @ReactMethod
    fun sendFile(filePath: String, targetDeviceId: String, promise: Promise) {
        try {
            val success = sendFile(filePath, targetDeviceId)
            if (success) {
                promise.resolve(true)
            } else {
                promise.reject("SEND_ERROR", "Failed to send file")
            }
        } catch (e: Exception) {
            promise.reject("SEND_ERROR", e.message, e)
        }
    }
}
```

**6. æ³¨å†Œ Native Module**

```kotlin
// native-modules/stationuli-core/android/src/main/java/com/stationuli/StationuliPackage.kt
package com.stationuli

import com.facebook.react.ReactPackage
import com.facebook.react.bridge.NativeModule
import com.facebook.react.bridge.ReactApplicationContext
import com.facebook.react.uimanager.ViewManager

class StationuliPackage : ReactPackage {
    override fun createNativeModules(
        reactContext: ReactApplicationContext
    ): List<NativeModule> {
        return listOf(StationuliModule(reactContext))
    }

    override fun createViewManagers(
        reactContext: ReactApplicationContext
    ): List<ViewManager<*, *>> {
        return emptyList()
    }
}
```

**7. CMakeLists.txtï¼ˆç¼–è¯‘ Rust åº“ï¼‰**

```cmake
# native-modules/stationuli-core/android/src/main/cpp/CMakeLists.txt
cmake_minimum_required(VERSION 3.18.1)
project("stationuli_core")

# è®¾ç½® Rust å·¥å…·é“¾
set(RUST_TOOLCHAIN "${CMAKE_CURRENT_SOURCE_DIR}/../../../../rust-core")

# ç¼–è¯‘ Rust åº“
add_custom_command(
    OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/libstationuli_core.so
    COMMAND cargo build --target aarch64-linux-android --release
    WORKING_DIRECTORY ${RUST_TOOLCHAIN}
    COMMENT "Building Rust core library"
)

add_library(stationuli_core SHARED IMPORTED)
set_target_properties(stationuli_core PROPERTIES
    IMPORTED_LOCATION ${CMAKE_CURRENT_BINARY_DIR}/libstationuli_core.so
)
```

**8. build.gradle é…ç½®**

```gradle
// native-modules/stationuli-core/android/build.gradle
apply plugin: 'com.android.library'

android {
    compileSdkVersion 34

    defaultConfig {
        minSdkVersion 28
        targetSdkVersion 34
        ndk {
            abiFilters 'arm64-v8a', 'armeabi-v7a', 'x86', 'x86_64'
        }
    }

    externalNativeBuild {
        cmake {
            path "src/main/cpp/CMakeLists.txt"
        }
    }
}

dependencies {
    implementation 'com.facebook.react:react-native:+'
}
```

**9. React Native è°ƒç”¨**

```typescript
// src/hooks/useStationuli.ts
import { NativeModules } from "react-native";

const { StationuliModule } = NativeModules;

export function useDeviceDiscovery() {
  const [devices, setDevices] = useState([]);

  useEffect(() => {
    StationuliModule.discoverDevices()
      .then((devicesJson: string) => {
        const devices = JSON.parse(devicesJson);
        setDevices(devices);
      })
      .catch((error: Error) => {
        console.error("Discovery error:", error);
      });
  }, []);

  return devices;
}

export async function connectToDevice(deviceId: string): Promise<boolean> {
  return StationuliModule.connect(deviceId);
}

export async function sendFile(
  filePath: string,
  targetDeviceId: string
): Promise<boolean> {
  return StationuliModule.sendFile(filePath, targetDeviceId);
}
```

##### æ–¹å¼äºŒï¼šä½¿ç”¨ Expo Dev Clientï¼ˆå¼€å‘æ—¶ï¼‰

å¯¹äºå¼€å‘é˜¶æ®µï¼Œå¯ä»¥ä½¿ç”¨ Expo Dev Client æ›¿ä»£ Expo Goï¼š

```bash
# å®‰è£… Expo Dev Client
npx expo install expo-dev-client

# é¢„æ„å»ºï¼ˆç”ŸæˆåŸç”Ÿä»£ç ï¼‰
npx expo prebuild

# è¿è¡Œå¼€å‘å®¢æˆ·ç«¯
npx expo run:android
```

##### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ EAS Buildï¼ˆç”Ÿäº§æ„å»ºï¼‰

```bash
# å®‰è£… EAS CLI
npm install -g eas-cli

# é…ç½® EAS
eas build:configure

# æ„å»º Android APK
eas build --platform android
```

**æ„å»ºé…ç½®ï¼ˆeas.jsonï¼‰**ï¼š

```json
{
  "build": {
    "development": {
      "developmentClient": true,
      "distribution": "internal"
    },
    "preview": {
      "distribution": "internal",
      "android": {
        "buildType": "apk"
      }
    },
    "production": {
      "android": {
        "buildType": "app-bundle"
      }
    }
  }
}
```

##### å¼€å‘æµç¨‹å»ºè®®

1. **UI å¼€å‘é˜¶æ®µ**ï¼šä½¿ç”¨ Expo Go å¿«é€Ÿè¿­ä»£ UIï¼ˆä¸æ¶‰åŠ Native Moduleï¼‰
2. **åŠŸèƒ½é›†æˆé˜¶æ®µ**ï¼šåˆ‡æ¢åˆ° Expo Dev Clientï¼Œæµ‹è¯• Native Module
3. **ç”Ÿäº§æ„å»º**ï¼šä½¿ç”¨ EAS Build è¿›è¡Œäº‘ç«¯æ„å»º

##### æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æç¤º**ï¼š

1. **Rust ç¼–è¯‘ç›®æ ‡**ï¼šéœ€è¦ä¸º Android äº¤å‰ç¼–è¯‘ Rust åº“

   ```bash
   # å®‰è£… Android ç›®æ ‡
   rustup target add aarch64-linux-android armv7-linux-androideabi i686-linux-android x86_64-linux-android

   # ç¼–è¯‘
   cargo build --target aarch64-linux-android --release
   ```

2. **NDK ç‰ˆæœ¬**ï¼šç¡®ä¿ä½¿ç”¨å…¼å®¹çš„ NDK ç‰ˆæœ¬ï¼ˆæ¨è 25.xï¼‰

3. **Expo SDK ç‰ˆæœ¬**ï¼šä½¿ç”¨ Expo SDK 50+ ä»¥è·å¾—æ›´å¥½çš„ Native Module æ”¯æŒ

4. **çƒ­æ›´æ–°é™åˆ¶**ï¼šNative Module çš„æ›´æ”¹éœ€è¦é‡æ–°æ„å»ºï¼Œä¸æ”¯æŒ OTA æ›´æ–°

5. **è°ƒè¯•**ï¼šä½¿ç”¨ `adb logcat` æŸ¥çœ‹åŸç”Ÿæ—¥å¿—ï¼Œä½¿ç”¨ React Native Debugger è°ƒè¯• JS ä»£ç 

#### 3.4 ä»£ç å¤ç”¨ç¤ºä¾‹

**å…±äº«UIç»„ä»¶ï¼ˆReactï¼‰**ï¼š

```typescript
// shared/components/DeviceList.tsx
// å¯åœ¨Tauriå’ŒReact Nativeä¸­å¤ç”¨
export function DeviceList({ devices, onSelect }: Props) {
  return (
    <View>
      {devices.map(device => (
        <DeviceItem
          key={device.id}
          device={device}
          onPress={() => onSelect(device)}
        />
      ))}
    </View>
  );
}
```

**å…±äº«ä¸šåŠ¡é€»è¾‘ï¼ˆTypeScriptï¼‰**ï¼š

```typescript
// shared/hooks/useDeviceDiscovery.ts
// å¯åœ¨Tauriå’ŒReact Nativeä¸­å¤ç”¨
export function useDeviceDiscovery() {
  const [devices, setDevices] = useState([]);

  useEffect(() => {
    // PCç«¯ï¼šé€šè¿‡Tauriè°ƒç”¨Rust
    // Androidç«¯ï¼šé€šè¿‡Native Moduleè°ƒç”¨Rust
    const discovered = discoverDevices();
    setDevices(discovered);
  }, []);

  return devices;
}
```

**å…±äº«çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰**ï¼š

```typescript
// shared/stores/transferStore.ts
// å¯åœ¨Tauriå’ŒReact Nativeä¸­å¤ç”¨
export const useTransferStore = create((set) => ({
  transfers: [],
  addTransfer: (transfer) =>
    set((state) => ({
      transfers: [...state.transfers, transfer],
    })),
}));
```

#### 3.4 è®¾å¤‡å‘ç°æœºåˆ¶

**å±€åŸŸç½‘å‘ç°ï¼ˆmDNSï¼‰**ï¼š

- **PCç«¯**ï¼šä½¿ç”¨`libmdns`ï¼ˆRustï¼‰å®ç°Bonjour/Zeroconfåè®®
- **Androidç«¯ï¼ˆåŸç”Ÿï¼‰**ï¼šä½¿ç”¨Android NSDï¼ˆNetwork Service Discoveryï¼‰API
- **Androidç«¯ï¼ˆRNï¼‰**ï¼šé€šè¿‡Native Moduleè°ƒç”¨Rustçš„`libmdns`åº“
- **è‡ªåŠ¨å¹¿æ’­**ï¼šè®¾å¤‡å¯åŠ¨åè‡ªåŠ¨åœ¨å±€åŸŸç½‘å†…å¹¿æ’­æœåŠ¡
- **é›¶é…ç½®**ï¼šæ— éœ€æ‰‹åŠ¨è¾“å…¥IPåœ°å€ï¼Œè‡ªåŠ¨å‘ç°å‘¨è¾¹è®¾å¤‡

**è¿œç¨‹è¿æ¥**ï¼š

- æ”¯æŒé€šè¿‡è®¾å¤‡ID/äºŒç»´ç æ‰‹åŠ¨è¿æ¥
- ä½¿ç”¨STUNæœåŠ¡å™¨è¿›è¡ŒNATç©¿é€
- æ”¯æŒä¸­ç»§æ¨¡å¼ï¼ˆå¯é€‰ï¼Œç”¨äºå¤æ‚ç½‘ç»œç¯å¢ƒï¼‰

#### 3.2 æ–‡ä»¶ä¼ è¾“æµç¨‹

**è¿æ¥å»ºç«‹**ï¼š

1. é€šè¿‡mDNSå‘ç°è®¾å¤‡æˆ–æ‰‹åŠ¨è¾“å…¥è®¾å¤‡ID
2. å»ºç«‹QUIC/TCPè¿æ¥
3. è¿›è¡Œå¯†é’¥äº¤æ¢ï¼ˆX25519ï¼‰
4. å¼€å§‹æ–‡ä»¶ä¼ è¾“

**ä¼ è¾“ä¼˜åŒ–**ï¼š

- å¤§æ–‡ä»¶è‡ªåŠ¨åˆ†ç‰‡ä¼ è¾“
- æ”¯æŒæ–­ç‚¹ç»­ä¼ 
- å¹¶è¡Œä¼ è¾“å¤šä¸ªæ–‡ä»¶
- è‡ªé€‚åº”å‹ç¼©ï¼ˆå¯é€‰ï¼‰

#### 3.3 æ§åˆ¶åŠŸèƒ½å®ç°

**å±å¹•æ•è·**ï¼š

- Windowsï¼šä½¿ç”¨DXGI Desktop Duplication API
- macOSï¼šä½¿ç”¨AVFoundation Screen Capture API
- 60FPSä½å»¶è¿Ÿç¼–ç ï¼ˆH.264/H.265ï¼‰

**è¾“å…¥æ¨¡æ‹Ÿ**ï¼š

- Windowsï¼šSendInput API
- macOSï¼šCGEvent API
- Androidï¼šé€šè¿‡QUICä¼ è¾“è¾“å…¥äº‹ä»¶

**ç½‘ç»œä¼ è¾“**ï¼š

- ä½¿ç”¨QUICåè®®ä¿è¯ä½å»¶è¿Ÿ
- è‡ªé€‚åº”ç ç‡æ§åˆ¶
- å‰å‘çº é”™ï¼ˆFECï¼‰å‡å°‘ä¸¢åŒ…å½±å“

#### 3.4 Tauriå®ç°ç¤ºä¾‹

**å±å¹•æ•è·ï¼ˆWindowsï¼‰**ï¼š

```rust
// src-tauri/src/main.rs
use windows::Win32::Graphics::Direct3D11::*;
use windows::Win32::Graphics::Dxgi::*;

#[tauri::command]
async fn capture_screen() -> Result<Vec<u8>, String> {
    // ä½¿ç”¨DXGI Desktop Duplication APIæ•è·å±å¹•
    // Rustå¯ä»¥ç›´æ¥è°ƒç”¨Windows API
    let frame = capture_desktop_frame()?;
    Ok(frame)
}
```

**å±å¹•æ•è·ï¼ˆmacOSï¼‰**ï¼š

```rust
// src-tauri/src/main.rs
use core_graphics::display::*;
use avfoundation::*;

#[tauri::command]
async fn capture_screen() -> Result<Vec<u8>, String> {
    // ä½¿ç”¨AVFoundationæˆ–CoreGraphicsæ•è·å±å¹•
    let frame = capture_screen_frame()?;
    Ok(frame)
}
```

**è¾“å…¥æ¨¡æ‹Ÿï¼ˆWindowsï¼‰**ï¼š

```rust
// src-tauri/src/main.rs
use windows::Win32::UI::Input::KeyboardAndMouse::*;

#[tauri::command]
async fn simulate_key(key_code: u16) -> Result<(), String> {
    unsafe {
        let input = INPUT {
            r#type: INPUT_KEYBOARD,
            Anonymous: INPUT_0 {
                ki: KEYBDINPUT {
                    wVk: key_code,
                    dwFlags: 0,
                    ..Default::default()
                }
            }
        };
        SendInput(&[input], std::mem::size_of::<INPUT>() as i32);
    }
    Ok(())
}
```

**æ–‡ä»¶ä¼ è¾“ï¼ˆTauri Commandï¼‰**ï¼š

```rust
// src-tauri/src/main.rs
use tauri::Manager;

#[tauri::command]
async fn send_file(
    file_path: String,
    target_device_id: String,
    app_handle: tauri::AppHandle,
) -> Result<(), String> {
    // è°ƒç”¨Rustæ ¸å¿ƒåº“è¿›è¡Œæ–‡ä»¶ä¼ è¾“
    let core = StationuliCore::new();
    core.send_file(&file_path, &target_device_id).await?;

    // å‘é€è¿›åº¦æ›´æ–°åˆ°å‰ç«¯
    app_handle.emit_all("transfer-progress", progress)?;
    Ok(())
}
```

**å‰ç«¯è°ƒç”¨ï¼ˆReactï¼‰**ï¼š

```typescript
// src/App.tsx
import { invoke } from "@tauri-apps/api/tauri";

// å±å¹•æ•è·
const capture = await invoke<Uint8Array>("capture_screen");

// è¾“å…¥æ¨¡æ‹Ÿ
await invoke("simulate_key", { keyCode: 65 }); // 'A'é”®

// æ–‡ä»¶ä¼ è¾“
await invoke("send_file", {
  filePath: "/path/to/file",
  targetDeviceId: "device-123",
});
```

#### 3.5 React Native + Expo å®ç°ç¤ºä¾‹

**Native Moduleå°è£…ï¼ˆKotlinï¼‰**ï¼š

```kotlin
// StationuliModule.kt
class StationuliModule(reactContext: ReactApplicationContext)
    : ReactContextBaseJavaModule(reactContext) {

    // åŠ è½½Rustæ ¸å¿ƒåº“
    init {
        System.loadLibrary("linkuli_core")
    }

    // Rust FFIå‡½æ•°å£°æ˜
    external fun startMdnsDiscovery(): String
    external fun connectToDevice(deviceId: String): Boolean
    external fun sendFile(filePath: String, targetId: String): Promise

    @ReactMethod
    fun discoverDevices(promise: Promise) {
        val devices = startMdnsDiscovery()
        promise.resolve(devices)
    }
}
```

**React Nativeè°ƒç”¨ç¤ºä¾‹ï¼ˆTypeScriptï¼‰**ï¼š

```typescript
// useStationuli.ts
import { NativeModules } from "react-native";

const { StationuliModule } = NativeModules;

export function useDeviceDiscovery() {
  const [devices, setDevices] = useState([]);

  useEffect(() => {
    StationuliModule.discoverDevices().then((devices: string) => {
      setDevices(JSON.parse(devices));
    });
  }, []);

  return devices;
}

// æ–‡ä»¶ä¼ è¾“
export async function sendFile(
  filePath: string,
  targetDeviceId: string
): Promise<void> {
  return StationuliModule.sendFile(filePath, targetDeviceId);
}
```

**Expoé…ç½®ï¼ˆapp.jsonï¼‰**ï¼š

```json
{
  "expo": {
    "plugins": [
      [
        "expo-build-properties",
        {
          "android": {
            "compileSdkVersion": 34,
            "minSdkVersion": 28,
            "targetSdkVersion": 34
          }
        }
      ]
    ]
  }
}
```

## ğŸ” å®‰å…¨è®¾è®¡

### å››é‡é˜²æŠ¤ä½“ç³»

1. **è¿æ¥å±‚**ï¼šDTLS 1.3æ¡æ‰‹
2. **ä¼ è¾“å±‚**ï¼šAES-256-GCMåŠ å¯†
3. **åº”ç”¨å±‚**ï¼šæ¯ä¼šè¯ç‹¬ç«‹å¯†é’¥
4. **æƒé™å±‚**ï¼šè®¾å¤‡æŒ‡çº¹+ç”Ÿç‰©è¯†åˆ«

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ä¼ è¾“åŠ é€ŸæŠ€æœ¯

| æŠ€æœ¯          | é€‚ç”¨åœºæ™¯     | æé€Ÿæ•ˆæœ |
| ------------- | ------------ | -------- |
| å‰å‘çº é”™(FEC) | é«˜ä¸¢åŒ…ç½‘ç»œ   | +40%     |
| è‡ªé€‚åº”å‹ç¼©    | å›¾æ–‡æ–‡ä»¶     | +70%     |
| å¹¶è¡Œåˆ†ç‰‡      | å¤§æ–‡ä»¶(>1GB) | +300%    |

## ğŸ“Œ éƒ¨ç½²è¦æ±‚

### PCç«¯

| å¹³å°    | æœ€ä½è¦æ±‚                     | è¯´æ˜                           |
| ------- | ---------------------------- | ------------------------------ |
| Windows | Win10 x64, 4GB RAM           | éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆç”¨äºç½‘ç»œå‘ç°ï¼‰ |
| macOS   | Big Sur, Apple Silicon/Intel | éœ€è¦ç½‘ç»œæƒé™æˆæƒ               |

### Androidç«¯

- **ç³»ç»Ÿè¦æ±‚**ï¼šAndroid 9.0+ (API 28+)
- **ç½‘ç»œæƒé™**ï¼šéœ€è¦å±€åŸŸç½‘è®¿é—®æƒé™
- **å­˜å‚¨æƒé™**ï¼šéœ€è¦æ–‡ä»¶è¯»å†™æƒé™ï¼ˆç”¨äºæ–‡ä»¶ä¼ è¾“ï¼‰

> âš ï¸ **é‡è¦**ï¼šæ‰€æœ‰åŠŸèƒ½å‡éœ€å®‰è£…åŸç”Ÿè½¯ä»¶ï¼Œä¸æ”¯æŒWebç«¯è®¿é—®

## ğŸ’¡ äº§å“äº®ç‚¹

1. **å®Œå…¨è‡ªä¸»**ï¼šä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ‰€æœ‰æ•°æ®ä»…åœ¨æ‚¨çš„è®¾å¤‡é—´ä¼ è¾“
2. **å®Œå…¨ç¦»çº¿**ï¼šæ”¯æŒå±€åŸŸç½‘å†…å®Œå…¨ç¦»çº¿è¿è¡Œï¼Œæ— éœ€äº’è”ç½‘è¿æ¥
3. **å®Œå…¨ç§æœ‰**ï¼šç«¯åˆ°ç«¯åŠ å¯†ï¼ˆX25519 + AES-256ï¼‰ï¼Œæ•°æ®ç»ä¸ç»è¿‡æœåŠ¡å™¨
4. **ä¸ªäººå·¥ä½œç«™**ï¼šæ‰“é€ æ‚¨çš„ä¸ªäººè®¾å¤‡ç½‘ç»œä¸­å¿ƒï¼Œæ‰“é€šPCä¸Androidè®¾å¤‡å£å’
5. **é›¶é…ç½®ä½¿ç”¨**ï¼šå±€åŸŸç½‘è®¾å¤‡è‡ªåŠ¨å‘ç°ï¼ˆmDNSï¼‰ï¼Œä¸€é”®è¿æ¥ï¼Œå¼€ç®±å³ç”¨
6. **åŸç”Ÿæ€§èƒ½**ï¼šå……åˆ†åˆ©ç”¨ç³»ç»Ÿèƒ½åŠ›ï¼Œæ€§èƒ½æœ€ä¼˜ï¼ŒåŠŸèƒ½å®Œæ•´
7. **ç»Ÿä¸€åè®®æ ˆ**ï¼šQUIC/TCPç»Ÿä¸€åè®®ï¼Œç¡®ä¿å„ç«¯å®Œå…¨å…¼å®¹
8. **å®Œå…¨P2P**ï¼šæ‰€æœ‰æ•°æ®ä¼ è¾“å‡ä¸ºç‚¹å¯¹ç‚¹ç›´è¿ï¼Œæ‚¨å®Œå…¨æŒæ§æ•°æ®æµå‘

## ğŸ“ è”ç³»æˆ‘ä»¬

éœ€è¦è¿›ä¸€æ­¥è®¨è®ºä¼ä¸šå®šåˆ¶æ–¹æ¡ˆæˆ–SDKå¼€æ”¾è®¡åˆ’å—ï¼Ÿæ¬¢è¿è”ç³»æˆ‘ä»¬ï¼

---

**Stationuli** - æ‰“é€ æ‚¨çš„ä¸ªäººå·¥ä½œç«™ï¼Œè®©è®¾å¤‡è¿æ¥æ›´ç®€å•ã€æ›´å®‰å…¨ã€æ›´è‡ªä¸» ğŸš€
