@tailwind base;
@tailwind components;
@tailwind utilities;

/* 顶部安全区域适配 - 适配状态栏 */
@supports (padding-top: env(safe-area-inset-top)) {
  .pt-safe-top {
    padding-top: calc(2.5rem + env(safe-area-inset-top));
  }
}

@supports not (padding-top: env(safe-area-inset-top)) {
  .pt-safe-top {
    padding-top: 1.5rem;
  }
}

/* 底部安全区域适配 - 适配底部导航栏和系统手势区域 */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe-bottom {
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
  }

  /* 内容区域的底部 padding，为底部导航栏留出空间 */
  .pb-safe-content {
    padding-bottom: calc(4.5rem + env(safe-area-inset-bottom));
  }
}

@supports not (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe-bottom {
    padding-bottom: 0.5rem;
  }

  .pb-safe-content {
    padding-bottom: 4.5rem;
  }
}

/* 底部导航栏安全区域适配 - 确保背景色完全填充到底部 */
.bottom-nav-safe {
  /* 确保导航栏背景色完全填充，包括安全区域 */
  box-sizing: border-box;
  margin-bottom: 0;
}

@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .bottom-nav-safe {
    /* 有安全区域时，添加 padding 让背景色填充安全区域 */
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
  }
}

/* 横屏适配 */
@media (orientation: landscape) {
  @supports (padding-bottom: env(safe-area-inset-bottom)) {
    .pb-safe-content {
      padding-bottom: calc(4rem + env(safe-area-inset-bottom));
    }
  }

  @supports not (padding-bottom: env(safe-area-inset-bottom)) {
    .pb-safe-content {
      padding-bottom: 4rem;
    }
  }

  /* 横屏时使用更紧凑的布局 */
  @media (max-height: 500px) {
    .card-spacing {
      margin-bottom: 1rem;
    }
  }
}

/* 优化滚动体验 */
html,
body {
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* 响应式字体大小优化 */
@media (max-width: 375px) {
  .text-responsive-sm {
    font-size: 0.75rem;
  }
}

@media (min-width: 768px) {
  .text-responsive-lg {
    font-size: 1rem;
  }
}
